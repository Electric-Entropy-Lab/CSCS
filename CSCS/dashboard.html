<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cognitive State Control System - Dashboard</title>
    <link rel="stylesheet" href="styles/monochrome.css">
    <style>
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 24px;
            overflow: hidden;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 24px;
            overflow-y: auto;
        }

        .content-area {
            display: flex;
            flex-direction: column;
            gap: 24px;
            overflow-y: auto;
            padding-right: 10px;
            /* Space for scrollbar */
        }

        .metric-big-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 30px;
        }
    </style>
</head>

<body>
    <div class="dashboard-container">
        <header>
            <div class="flex items-center gap-10">
                <div id="connection-status" class="status-indicator"></div>
                <h1 class="ee-title">COGNITIVE STATE CONTROL SYSTEM <span class="ee-label" style="opacity:0.5; margin-left:10px;">LITE v2.0</span></h1>
            </div>
            <div class="flex items-center gap-10">
                <span id="session-time" class="ee-value-large" style="font-size: 1.5rem;">00:00:00</span>
                <button id="btn-settings" class="ee-button">Settings</button>
            </div>
        </header>

        <div class="main-grid">
            <!-- SIDEBAR -->
            <aside class="sidebar">
                <!-- Main State Card -->
                <div class="ee-card metric-big-card">
                    <div class="ee-subtitle">Cognitive Load</div>
                    <div id="metric-load" class="ee-value-huge">0%</div>
                    <div class="ee-progress">
                        <div id="bar-load" class="ee-progress-bar" style="width: 0%"></div>
                    </div>
                    <div id="current-state" class="mt-10 ee-label" style="font-size: 1rem; color: var(--ee-white);">
                        NEUTRAL</div>
                </div>

                <!-- Session Stats -->
                <div class="ee-panel">
                    <div class="ee-subtitle">Session</div>
                    <div class="flex justify-between mb-10 border-b border-gray-800 pb-2">
                        <span class="ee-label">Duration</span>
                        <span id="stat-duration" class="ee-value">0m</span>
                    </div>
                    <div class="flex justify-between mb-10">
                        <span class="ee-label">Events</span>
                        <span id="stat-events" class="ee-value">0</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="ee-label">Interactions</span>
                        <span id="stat-interactions" class="ee-value">0</span>
                    </div>
                </div>

                <!-- Controls -->
                <div class="ee-panel flex-col">
                    <button id="btn-export" class="ee-button primary w-full mb-10">Export Data</button>
                    <button id="btn-clear" class="ee-button danger w-full">Reset Session</button>
                </div>
            </aside>

            <!-- MAIN CONTENT -->
            <main class="content-area">
                <!-- Top Metrics Grid -->
                <div class="grid grid-cols-4 gap-10">
                    <div class="ee-card">
                        <div class="ee-subtitle">WPM</div>
                        <div id="metric-wpm" class="ee-value-large">0</div>
                        <div class="ee-label mt-10">Typing Speed</div>
                    </div>
                    <div class="ee-card">
                        <div class="ee-subtitle">Corrections</div>
                        <div id="metric-cr" class="ee-value-large">0%</div>
                        <div class="ee-label mt-10">Error Rate</div>
                    </div>
                    <div class="ee-card">
                        <div class="ee-subtitle">Entropy</div>
                        <div id="metric-entropy" class="ee-value-large">0.0</div>
                        <div class="ee-label mt-10">Rhythm Variability</div>
                    </div>
                    <div class="ee-card">
                        <div class="ee-subtitle">Stability</div>
                        <div id="metric-stability" class="ee-value-large">0%</div>
                        <div class="ee-label mt-10">Work Fluency</div>
                    </div>
                </div>

                <!-- Warning/Insights Panel -->
                <div id="warnings-panel" class="ee-panel" style="display:none; border-color: #ff4444;">
                    <h3 class="ee-subtitle" style="color:#ff4444;">Anomalies Detected</h3>
                    <div id="active-warnings" class="flex gap-10 mt-10"></div>
                </div>

                <!-- Tagging & Notes -->
                <div class="ee-card">
                    <div class="flex justify-between items-center mb-20">
                        <h3 class="ee-subtitle">State Tagging</h3>
                        <span class="ee-label">Ctrl+Shift+1..4</span>
                    </div>
                    <div class="flex gap-10 mb-20">
                        <button class="ee-button tag" data-tag="focus">FOCUS</button>
                        <button class="ee-button tag" data-tag="flow">FLOW</button>
                        <button class="ee-button tag" data-tag="stress">STRESS</button>
                        <button class="ee-button tag" data-tag="fatigue">FATIGUE</button>
                    </div>
                    <div class="flex gap-10">
                        <input type="text" id="note-input" class="ee-input" placeholder="Session note...">
                        <button id="btn-add-note" class="ee-button">Add</button>
                    </div>
                </div>

                <!-- Live Log -->
                <div class="ee-panel" style="flex: 1;">
                    <div class="ee-subtitle">System Log</div>
                    <div id="event-log" class="ee-log-container"></div>
                </div>
            </main>
        </div>
    </div>
    <script src="dashboard.js"></script>
</body>

</html>